# Comparing `tmp/odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0-py3-none-any.whl.zip` & `tmp/odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,32 +1,34 @@
-Zip file size: 27201 bytes, number of entries: 30
--rw-r--r--  2.0 unx     4006 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/__init__.py
--rw-r--r--  2.0 unx      820 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/__manifest__.py
--rw-r--r--  2.0 unx     4713 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/i18n/l10n_ro_nondeductible_vat.pot
--rw-r--r--  2.0 unx      174 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/models/__init__.py
--rw-r--r--  2.0 unx      428 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/models/account_account.py
--rw-r--r--  2.0 unx     5147 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/models/account_move.py
--rw-r--r--  2.0 unx     1392 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/models/account_partial_reconcile.py
--rw-r--r--  2.0 unx     1804 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/models/account_tax.py
--rw-r--r--  2.0 unx     2103 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/models/stock_move.py
--rw-r--r--  2.0 unx     1316 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/models/stock_quant.py
--rw-r--r--  2.0 unx      262 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       89 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      290 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/readme/INSTALL.rst
--rw-r--r--  2.0 unx       85 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/readme/USAGE.rst
--rw-r--r--  2.0 unx      566 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/static/description/icon.png
--rw-r--r--  2.0 unx    13977 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/static/description/index.html
--rw-r--r--  2.0 unx      104 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/tests/__init__.py
--rw-r--r--  2.0 unx    20482 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/tests/common.py
--rw-r--r--  2.0 unx     1057 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/tests/test_consum.py
--rw-r--r--  2.0 unx     1076 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/tests/test_inventory.py
--rw-r--r--  2.0 unx     1958 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/tests/test_invoice.py
--rw-r--r--  2.0 unx      676 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/views/account_account_view.xml
--rw-r--r--  2.0 unx     2250 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/views/account_tax_view.xml
--rw-r--r--  2.0 unx     1050 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/views/stock_picking_view.xml
--rw-r--r--  2.0 unx      818 b- defN 23-Dec-29 13:37 odoo/addons/l10n_ro_nondeductible_vat/views/stock_quant_view.xml
--rw-r--r--  2.0 unx     4752 b- defN 23-Dec-29 13:37 odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Dec-29 13:37 odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Dec-29 13:37 odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3463 b- defN 23-Dec-29 13:37 odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/RECORD
-30 files, 74976 bytes uncompressed, 21249 bytes compressed:  71.7%
+Zip file size: 28047 bytes, number of entries: 32
+-rw-r--r--  2.0 unx     4006 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/__init__.py
+-rw-r--r--  2.0 unx      820 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/__manifest__.py
+-rw-r--r--  2.0 unx     4348 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/i18n/l10n_ro_nondeductible_vat.pot
+-rw-r--r--  2.0 unx      222 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/__init__.py
+-rw-r--r--  2.0 unx      428 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/account_account.py
+-rw-r--r--  2.0 unx      655 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/account_move.py
+-rw-r--r--  2.0 unx     2124 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/account_move_line.py
+-rw-r--r--  2.0 unx     1357 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/account_partial_reconcile.py
+-rw-r--r--  2.0 unx     1129 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/account_tax.py
+-rw-r--r--  2.0 unx     1533 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/account_tax_repartition_line.py
+-rw-r--r--  2.0 unx     2139 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/stock_move.py
+-rw-r--r--  2.0 unx     1596 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/models/stock_quant.py
+-rw-r--r--  2.0 unx      262 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       89 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx      290 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/readme/INSTALL.rst
+-rw-r--r--  2.0 unx       85 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/readme/USAGE.rst
+-rw-r--r--  2.0 unx      566 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/static/description/icon.png
+-rw-r--r--  2.0 unx    13977 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/static/description/index.html
+-rw-r--r--  2.0 unx      104 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/tests/__init__.py
+-rw-r--r--  2.0 unx    21114 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/tests/common.py
+-rw-r--r--  2.0 unx     1057 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/tests/test_consum.py
+-rw-r--r--  2.0 unx     1076 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/tests/test_inventory.py
+-rw-r--r--  2.0 unx     1959 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/tests/test_invoice.py
+-rw-r--r--  2.0 unx      676 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/views/account_account_view.xml
+-rw-r--r--  2.0 unx     2250 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/views/account_tax_view.xml
+-rw-r--r--  2.0 unx     1050 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/views/stock_picking_view.xml
+-rw-r--r--  2.0 unx      818 b- defN 24-Apr-03 15:56 odoo/addons/l10n_ro_nondeductible_vat/views/stock_quant_view.xml
+-rw-r--r--  2.0 unx     4753 b- defN 24-Apr-03 15:56 odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-03 15:56 odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 24-Apr-03 15:56 odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3717 b- defN 24-Apr-03 15:56 odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/RECORD
+32 files, 74318 bytes uncompressed, 21661 bytes compressed:  70.9%
```

## zipnote {}

```diff
@@ -15,20 +15,26 @@
 
 Filename: odoo/addons/l10n_ro_nondeductible_vat/models/account_account.py
 Comment: 
 
 Filename: odoo/addons/l10n_ro_nondeductible_vat/models/account_move.py
 Comment: 
 
+Filename: odoo/addons/l10n_ro_nondeductible_vat/models/account_move_line.py
+Comment: 
+
 Filename: odoo/addons/l10n_ro_nondeductible_vat/models/account_partial_reconcile.py
 Comment: 
 
 Filename: odoo/addons/l10n_ro_nondeductible_vat/models/account_tax.py
 Comment: 
 
+Filename: odoo/addons/l10n_ro_nondeductible_vat/models/account_tax_repartition_line.py
+Comment: 
+
 Filename: odoo/addons/l10n_ro_nondeductible_vat/models/stock_move.py
 Comment: 
 
 Filename: odoo/addons/l10n_ro_nondeductible_vat/models/stock_quant.py
 Comment: 
 
 Filename: odoo/addons/l10n_ro_nondeductible_vat/readme/CONTRIBUTORS.rst
@@ -72,20 +78,20 @@
 
 Filename: odoo/addons/l10n_ro_nondeductible_vat/views/stock_picking_view.xml
 Comment: 
 
 Filename: odoo/addons/l10n_ro_nondeductible_vat/views/stock_quant_view.xml
 Comment: 
 
-Filename: odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/METADATA
+Filename: odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/WHEEL
+Filename: odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/top_level.txt
+Filename: odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/RECORD
+Filename: odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/l10n_ro_nondeductible_vat/README.rst

```diff
@@ -3,31 +3,31 @@
 ===========================
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:63c660818ed0bffdf8f33f1f3dd3d39cb8921973ba8ba009dc6028f5a12a2f34
+   !! source digest: sha256:2ec0c0ed4db6cdbee83cc3c29bdb9e972eb82b66919e9a40bf13d9cdfac3da20
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Mature-brightgreen.png
     :target: https://odoo-community.org/page/development-status
     :alt: Mature
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--romania-lightgray.png?logo=github
-    :target: https://github.com/OCA/l10n-romania/tree/15.0/l10n_ro_nondeductible_vat
+    :target: https://github.com/OCA/l10n-romania/tree/16.0/l10n_ro_nondeductible_vat
     :alt: OCA/l10n-romania
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/l10n-romania-15-0/l10n-romania-15-0-l10n_ro_nondeductible_vat
+    :target: https://translation.odoo-community.org/projects/l10n-romania-16-0/l10n-romania-16-0-l10n_ro_nondeductible_vat
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
-    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-romania&target_branch=15.0
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-romania&target_branch=16.0
     :alt: Try me on Runboat
 
 |badge1| |badge2| |badge3| |badge4| |badge5|
 
 This module allows you to register non deductible VAT from Invoices or Stock Operations.
 
 **Table of contents**
@@ -36,15 +36,15 @@
    :local:
 
 Installation
 ============
 
 To install this module, you need to:
 
-* clone the branch 15.0 of the repository https://github.com/OCA/l10n-romania
+* clone the branch 16.0 of the repository https://github.com/OCA/l10n-romania
 * add the path to this repository in your configuration (addons-path)
 * update the module list
 * search for "Romania - Nondeductible VAT" in your addons
 * install the module
 
 Usage
 =====
@@ -53,15 +53,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-romania/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/l10n-romania/issues/new?body=module:%20l10n_ro_nondeductible_vat%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/l10n-romania/issues/new?body=module:%20l10n_ro_nondeductible_vat%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -103,10 +103,10 @@
     :target: https://github.com/feketemihai
     :alt: feketemihai
 
 Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
 |maintainer-adrian-dks| |maintainer-feketemihai| 
 
-This module is part of the `OCA/l10n-romania <https://github.com/OCA/l10n-romania/tree/15.0/l10n_ro_nondeductible_vat>`_ project on GitHub.
+This module is part of the `OCA/l10n-romania <https://github.com/OCA/l10n-romania/tree/16.0/l10n_ro_nondeductible_vat>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/l10n_ro_nondeductible_vat/__manifest__.py

```diff
@@ -2,15 +2,15 @@
 # Copyright (C) 2021 NextERP Romania
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
 {
     "name": "Romania - Nondeductible VAT",
     "category": "Localization",
     "summary": "Romania - Nondeductible VAT",
     "license": "AGPL-3",
-    "version": "15.0.4.2.0",
+    "version": "16.0.0.2.0",
     "data": [
         "views/account_account_view.xml",
         "views/account_tax_view.xml",
         "views/stock_quant_view.xml",
         "views/stock_picking_view.xml",
     ],
     "depends": ["l10n_ro_stock_account", "l10n_ro_vat_on_payment"],
```

## odoo/addons/l10n_ro_nondeductible_vat/i18n/l10n_ro_nondeductible_vat.pot

```diff
@@ -1,14 +1,14 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* l10n_ro_nondeductible_vat
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 15.0\n"
+"Project-Id-Version: Odoo Server 16.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
@@ -24,30 +24,23 @@
 "If checked, then it doesn't change expense account in the tax line for "
 "invoices, and it set 44283 instead of expense account for the journal entry "
 "created at payment reconciliation"
 msgstr ""
 
 #. module: l10n_ro_nondeductible_vat
 #: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_account_account__is_l10n_ro_record
-#: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_account_move__is_l10n_ro_record
 #: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_account_move_line__is_l10n_ro_record
-#: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_account_partial_reconcile__is_l10n_ro_record
 #: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_account_tax__is_l10n_ro_record
 #: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_account_tax_repartition_line__is_l10n_ro_record
 #: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_stock_move__is_l10n_ro_record
 #: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_stock_quant__is_l10n_ro_record
 msgid "Is Romanian Record"
 msgstr ""
 
 #. module: l10n_ro_nondeductible_vat
-#: model:ir.model,name:l10n_ro_nondeductible_vat.model_account_move
-msgid "Journal Entry"
-msgstr ""
-
-#. module: l10n_ro_nondeductible_vat
 #: model:ir.model,name:l10n_ro_nondeductible_vat.model_account_move_line
 msgid "Journal Item"
 msgstr ""
 
 #. module: l10n_ro_nondeductible_vat
 #: model:ir.model.fields,field_description:l10n_ro_nondeductible_vat.field_stock_quant__l10n_ro_nondeductible_tax_id
 msgid "L10N Ro Nondeductible Tax"
```

## odoo/addons/l10n_ro_nondeductible_vat/models/__init__.py

```diff
@@ -1,6 +1,7 @@
 from . import account_account
-from . import account_move
+from . import account_move_line
 from . import account_tax
+from . import account_tax_repartition_line
 from . import stock_quant
 from . import stock_move
 from . import account_partial_reconcile
```

## odoo/addons/l10n_ro_nondeductible_vat/models/account_move.py

```diff
@@ -1,136 +1,23 @@
 # Copyright (C) 2021 Dakai Soft SRL
 # Copyright (C) 2021 NextERP Romania
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
 
-from datetime import date
 
 from odoo import api, models
 
 
 class AccountMove(models.Model):
     _name = "account.move"
     _inherit = ["account.move", "l10n.ro.mixin"]
 
-    def _preprocess_taxes_map(self, taxes_map):
-        """In case of stock not deductible, remove the line set to be excluded"""
-        res = super()._preprocess_taxes_map(taxes_map)
-        if not self.is_l10n_ro_record:
-            return res
-
-        new_taxes_map = {}
-
-        for key, vals in res.items():
-            if not vals.get("grouping_dict"):
-                new_taxes_map[key] = taxes_map[key]
-            else:
-                group = vals.get("grouping_dict")
-                if not group.get("exlude_from_stock"):
-                    new_taxes_map[key] = taxes_map[key]
-        return new_taxes_map
-
-    @api.model
-    def _get_tax_grouping_key_from_base_line(self, base_line, tax_vals):
-        """
-        Update tax grouping account_id with the nondeductible one defined in account.
-        """
-        is_from_stock = base_line.move_id.stock_move_id
-        tax_repartition_line = self.env["account.tax.repartition.line"].browse(
-            tax_vals["tax_repartition_line_id"]
-        )
-        res = super()._get_tax_grouping_key_from_base_line(base_line, tax_vals)
-        if self.is_l10n_ro_record:
-            if is_from_stock and tax_repartition_line.l10n_ro_exclude_from_stock:
-                res[
-                    "exlude_from_stock"
-                ] = tax_repartition_line.l10n_ro_exclude_from_stock
-            if (
-                base_line.account_id.l10n_ro_nondeductible_account_id
-                and tax_repartition_line.l10n_ro_nondeductible
-            ):
-                res[
-                    "account_id"
-                ] = base_line.account_id.l10n_ro_nondeductible_account_id.id
-
+    @api.depends("move_type")
+    def _compute_is_storno(self):
+        res = super()._compute_is_storno()
+        for move in self:
             if (
-                base_line.account_id.l10n_ro_nondeductible_account_id.internal_group
-                == "expense"
+                move.company_id.account_storno
+                and move.company_id.l10n_ro_accounting
+                and move.move_type == "entry"
             ):
-                for line in tax_repartition_line:
-                    if line.l10n_ro_nondeductible or not line.account_id:
-                        analytic_account_id = (
-                            base_line.move_id.invoice_line_ids.filtered(
-                                lambda l: l.account_id == base_line.account_id
-                            )[0]
-                        )
-                        if analytic_account_id.analytic_account_id:
-                            res[
-                                "analytic_account_id"
-                            ] = analytic_account_id.analytic_account_id.id
-                        if analytic_account_id.analytic_tag_ids:
-                            res["analytic_tag_ids"] = [
-                                (6, 0, analytic_account_id.analytic_tag_ids.ids)
-                            ]
-
+                move.is_storno = True
         return res
-
-    @api.model_create_multi
-    def create(self, vals_list):
-        moves = super().create(vals_list)
-
-        ro_moves = moves.filtered("is_l10n_ro_record")
-        if ro_moves:
-            moves_from_stock = ro_moves.filtered("stock_move_id")
-            for move in moves_from_stock:
-                move_have_taxes = move.line_ids.filtered("tax_ids")
-                if move_have_taxes:
-                    move.with_context(
-                        check_move_validity=False
-                    )._recompute_dynamic_lines(True, True)
-        return moves
-
-
-class AccountMoveLine(models.Model):
-    _name = "account.move.line"
-    _inherit = ["account.move.line", "l10n.ro.mixin"]
-
-    @api.model
-    def _get_default_tax_account(self, repartition_line):
-        tax = repartition_line.tax_id
-        if not tax.is_l10n_ro_record:
-            return super()._get_default_tax_account(repartition_line)
-
-        if (
-            tax.tax_exigibility == "on_payment"
-            and not repartition_line.l10n_ro_skip_cash_basis_account_switch
-        ):
-            account = tax.cash_basis_transition_account_id
-        else:
-            account = repartition_line.account_id
-        return account
-
-    @api.onchange("tax_ids")
-    def onchange_l10n_ro_tax_ids(self):
-        if self.is_l10n_ro_record:
-            if not self.display_type and "in" in self.move_id.move_type:
-                partner = (
-                    self.env["res.partner"]._find_accounting_partner(self.partner_id)
-                    or self.partner_id
-                )
-                ctx = dict(self._context)
-                vatp = False
-
-                if self.move_id.invoice_date:
-                    ctx.update({"check_date": self.move_id.invoice_date})
-                else:
-                    ctx.update({"check_date": date.today()})
-
-                if partner:
-                    vatp = partner.with_context(**ctx)._check_vat_on_payment()
-
-                if vatp:
-                    taxes = self.tax_ids
-
-                    if taxes and self.move_id.fiscal_position_id:
-                        taxes = self.move_id.fiscal_position_id.map_tax(taxes)
-
-                    self.tax_ids = taxes
```

## odoo/addons/l10n_ro_nondeductible_vat/models/account_partial_reconcile.py

```diff
@@ -1,35 +1,34 @@
 from odoo import api, models
 
 
 class AccountPartialReconcile(models.Model):
-    _name = "account.partial.reconcile"
-    _inherit = ["account.partial.reconcile", "l10n.ro.mixin"]
+    _inherit = "account.partial.reconcile"
 
     @api.model
     def _prepare_cash_basis_tax_line_vals(self, tax_line, balance, amount_currency):
         vals = super()._prepare_cash_basis_tax_line_vals(
             tax_line, balance, amount_currency
         )
-        if tax_line.is_l10n_ro_record:
+        if tax_line.company_id.l10n_ro_accounting:
             if (
                 tax_line.tax_repartition_line_id.l10n_ro_skip_cash_basis_account_switch
                 and tax_line.company_id.account_cash_basis_base_account_id
             ):
                 vals[
                     "account_id"
                 ] = tax_line.company_id.account_cash_basis_base_account_id.id
         return vals
 
     @api.model
     def _prepare_cash_basis_counterpart_tax_line_vals(self, tax_line, cb_tax_line_vals):
         vals = super()._prepare_cash_basis_counterpart_tax_line_vals(
             tax_line, cb_tax_line_vals
         )
-        if tax_line.is_l10n_ro_record:
+        if tax_line.company_id.l10n_ro_accounting:
             if (
                 tax_line.tax_repartition_line_id.l10n_ro_skip_cash_basis_account_switch
                 and tax_line.company_id.account_cash_basis_base_account_id
             ):
                 vals[
                     "account_id"
                 ] = tax_line.company_id.account_cash_basis_base_account_id.id
```

## odoo/addons/l10n_ro_nondeductible_vat/models/account_tax.py

```diff
@@ -24,21 +24,7 @@
             if record.is_l10n_ro_record:
                 record.l10n_ro_is_nondeductible = any(
                     record.invoice_repartition_line_ids.mapped("l10n_ro_nondeductible")
                     + record.refund_repartition_line_ids.mapped("l10n_ro_nondeductible")
                 )
             else:
                 record.l10n_ro_is_nondeductible = False
-
-
-class AccountTaxRepartitionLineExtend(models.Model):
-    _name = "account.tax.repartition.line"
-    _inherit = ["account.tax.repartition.line", "l10n.ro.mixin"]
-
-    l10n_ro_nondeductible = fields.Boolean(string="Romania - Nondeductible")
-    l10n_ro_exclude_from_stock = fields.Boolean(string="Romania - Exclude From Stock")
-    l10n_ro_skip_cash_basis_account_switch = fields.Boolean(
-        string="Romania - Skip Account Switch (Cash Basis)",
-        help="If checked, then it doesn't change expense account"
-        " in the tax line for invoices, and it set 44283 instead of expense"
-        " account for the journal entry created at payment reconciliation",
-    )
```

## odoo/addons/l10n_ro_nondeductible_vat/models/stock_move.py

```diff
@@ -38,23 +38,25 @@
         self,
         partner_id,
         qty,
         debit_value,
         credit_value,
         debit_account_id,
         credit_account_id,
+        svl_id,
         description,
     ):
         res = super(StockMove, self)._generate_valuation_lines_data(
             partner_id,
             qty,
             debit_value,
             credit_value,
             debit_account_id,
             credit_account_id,
+            svl_id,
             description,
         )
         if self.is_l10n_ro_record:
             if self.l10n_ro_nondeductible_tax_id:
                 if res.get("debit_line_vals"):
                     res["debit_line_vals"].update(
                         {
```

## odoo/addons/l10n_ro_nondeductible_vat/models/stock_quant.py

```diff
@@ -22,19 +22,25 @@
             and self.l10n_ro_nondeductible_tax_id.id
             or None
         )
         return res
 
     @api.model
     def _get_inventory_fields_create(self):
-        fields = super()._get_inventory_fields_create()
-        return fields + ["l10n_ro_nondeductible_tax_id"]
+        """Returns a list of fields user can edit when he want
+        to create a quant in `inventory_mode`."""
+        res = super()._get_inventory_fields_create()
+        res += ["l10n_ro_nondeductible_tax_id", "is_l10n_ro_record"]
+        return res
 
     @api.model
     def _get_inventory_fields_write(self):
-        fields = super()._get_inventory_fields_write()
-        return fields + ["l10n_ro_nondeductible_tax_id"]
+        """Returns a list of fields user can edit when he want
+        to edit a quant in `inventory_mode`."""
+        res = super()._get_inventory_fields_write()
+        res += ["l10n_ro_nondeductible_tax_id", "is_l10n_ro_record"]
+        return res
 
     def _apply_inventory(self):
         res = super()._apply_inventory()
         self.l10n_ro_nondeductible_tax_id = False
         return res
```

## odoo/addons/l10n_ro_nondeductible_vat/readme/INSTALL.rst

```diff
@@ -1,7 +1,7 @@
 To install this module, you need to:
 
-* clone the branch 15.0 of the repository https://github.com/OCA/l10n-romania
+* clone the branch 16.0 of the repository https://github.com/OCA/l10n-romania
 * add the path to this repository in your configuration (addons-path)
 * update the module list
 * search for "Romania - Nondeductible VAT" in your addons
 * install the module
```

## odoo/addons/l10n_ro_nondeductible_vat/static/description/index.html

```diff
@@ -362,17 +362,17 @@
 <div class="document" id="romania-nondeductible-vat">
 <h1 class="title">Romania - Nondeductible VAT</h1>
 
 <!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 !! This file is generated by oca-gen-addon-readme !!
 !! changes will be overwritten.                   !!
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-!! source digest: sha256:63c660818ed0bffdf8f33f1f3dd3d39cb8921973ba8ba009dc6028f5a12a2f34
+!! source digest: sha256:2ec0c0ed4db6cdbee83cc3c29bdb9e972eb82b66919e9a40bf13d9cdfac3da20
 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
-<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Mature" src="https://img.shields.io/badge/maturity-Mature-brightgreen.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/l10n-romania/tree/15.0/l10n_ro_nondeductible_vat"><img alt="OCA/l10n-romania" src="https://img.shields.io/badge/github-OCA%2Fl10n--romania-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/l10n-romania-15-0/l10n-romania-15-0-l10n_ro_nondeductible_vat"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/l10n-romania&amp;target_branch=15.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
+<p><a class="reference external image-reference" href="https://odoo-community.org/page/development-status"><img alt="Mature" src="https://img.shields.io/badge/maturity-Mature-brightgreen.png" /></a> <a class="reference external image-reference" href="http://www.gnu.org/licenses/agpl-3.0-standalone.html"><img alt="License: AGPL-3" src="https://img.shields.io/badge/licence-AGPL--3-blue.png" /></a> <a class="reference external image-reference" href="https://github.com/OCA/l10n-romania/tree/16.0/l10n_ro_nondeductible_vat"><img alt="OCA/l10n-romania" src="https://img.shields.io/badge/github-OCA%2Fl10n--romania-lightgray.png?logo=github" /></a> <a class="reference external image-reference" href="https://translation.odoo-community.org/projects/l10n-romania-16-0/l10n-romania-16-0-l10n_ro_nondeductible_vat"><img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png" /></a> <a class="reference external image-reference" href="https://runboat.odoo-community.org/builds?repo=OCA/l10n-romania&amp;target_branch=16.0"><img alt="Try me on Runboat" src="https://img.shields.io/badge/runboat-Try%20me-875A7B.png" /></a></p>
 <p>This module allows you to register non deductible VAT from Invoices or Stock Operations.</p>
 <p><strong>Table of contents</strong></p>
 <div class="contents local topic" id="contents">
 <ul class="simple">
 <li><a class="reference internal" href="#installation" id="toc-entry-1">Installation</a></li>
 <li><a class="reference internal" href="#usage" id="toc-entry-2">Usage</a></li>
 <li><a class="reference internal" href="#bug-tracker" id="toc-entry-3">Bug Tracker</a></li>
@@ -384,15 +384,15 @@
 </li>
 </ul>
 </div>
 <div class="section" id="installation">
 <h1><a class="toc-backref" href="#toc-entry-1">Installation</a></h1>
 <p>To install this module, you need to:</p>
 <ul class="simple">
-<li>clone the branch 15.0 of the repository <a class="reference external" href="https://github.com/OCA/l10n-romania">https://github.com/OCA/l10n-romania</a></li>
+<li>clone the branch 16.0 of the repository <a class="reference external" href="https://github.com/OCA/l10n-romania">https://github.com/OCA/l10n-romania</a></li>
 <li>add the path to this repository in your configuration (addons-path)</li>
 <li>update the module list</li>
 <li>search for “Romania - Nondeductible VAT” in your addons</li>
 <li>install the module</li>
 </ul>
 </div>
 <div class="section" id="usage">
@@ -400,15 +400,15 @@
 <p>Select the nondeductible tax on invoice line, consume stock move or minus inventory.</p>
 </div>
 <div class="section" id="bug-tracker">
 <h1><a class="toc-backref" href="#toc-entry-3">Bug Tracker</a></h1>
 <p>Bugs are tracked on <a class="reference external" href="https://github.com/OCA/l10n-romania/issues">GitHub Issues</a>.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-<a class="reference external" href="https://github.com/OCA/l10n-romania/issues/new?body=module:%20l10n_ro_nondeductible_vat%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
+<a class="reference external" href="https://github.com/OCA/l10n-romania/issues/new?body=module:%20l10n_ro_nondeductible_vat%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>.</p>
 <p>Do not contact contributors directly about support or help with technical issues.</p>
 </div>
 <div class="section" id="credits">
 <h1><a class="toc-backref" href="#toc-entry-4">Credits</a></h1>
 <div class="section" id="authors">
 <h2><a class="toc-backref" href="#toc-entry-5">Authors</a></h2>
 <ul class="simple">
@@ -435,14 +435,14 @@
 <p>This module is maintained by the OCA.</p>
 <a class="reference external image-reference" href="https://odoo-community.org"><img alt="Odoo Community Association" src="https://odoo-community.org/logo.png" /></a>
 <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
 <p>Current <a class="reference external" href="https://odoo-community.org/page/maintainer-role">maintainers</a>:</p>
 <p><a class="reference external image-reference" href="https://github.com/adrian-dks"><img alt="adrian-dks" src="https://github.com/adrian-dks.png?size=40px" /></a> <a class="reference external image-reference" href="https://github.com/feketemihai"><img alt="feketemihai" src="https://github.com/feketemihai.png?size=40px" /></a></p>
-<p>This module is part of the <a class="reference external" href="https://github.com/OCA/l10n-romania/tree/15.0/l10n_ro_nondeductible_vat">OCA/l10n-romania</a> project on GitHub.</p>
+<p>This module is part of the <a class="reference external" href="https://github.com/OCA/l10n-romania/tree/16.0/l10n_ro_nondeductible_vat">OCA/l10n-romania</a> project on GitHub.</p>
 <p>You are welcome to contribute. To learn how please visit <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>.</p>
 </div>
 </div>
 </div>
 </body>
 </html>
```

### html2text {}

```diff
@@ -9,15 +9,15 @@
     * _B_u_g_ _T_r_a_c_k_e_r
     * _C_r_e_d_i_t_s
           o _A_u_t_h_o_r_s
           o _C_o_n_t_r_i_b_u_t_o_r_s
           o _M_a_i_n_t_a_i_n_e_r_s
 ************ _II_nn_ss_tt_aa_ll_ll_aa_tt_ii_oo_nn ************
 To install this module, you need to:
-    * clone the branch 15.0 of the repository _h_t_t_p_s_:_/_/_g_i_t_h_u_b_._c_o_m_/_O_C_A_/_l_1_0_n_-
+    * clone the branch 16.0 of the repository _h_t_t_p_s_:_/_/_g_i_t_h_u_b_._c_o_m_/_O_C_A_/_l_1_0_n_-
       _r_o_m_a_n_i_a
     * add the path to this repository in your configuration (addons-path)
     * update the module list
     * search for “Romania - Nondeductible VAT” in your addons
     * install the module
 ************ _UU_ss_aa_gg_ee ************
 Select the nondeductible tax on invoice line, consume stock move or minus
```

## odoo/addons/l10n_ro_nondeductible_vat/tests/common.py

```diff
@@ -32,14 +32,17 @@
         cls.account_vat_deductible = get_account("442600")
         cls.account_income = get_account("707000")
         cls.account_valuation = get_account("371000")
         cls.account_difference = get_account("378000")
         cls.account_expense_vat_nondeductible = get_account("635200")
         if not cls.account_expense_vat_nondeductible:
             cls.account_expense_vat_nondeductible = get_account("635100")
+        cls.env.company.l10n_ro_property_uneligible_tax_account_id = (
+            cls.account_expense_vat_nondeductible
+        )
         cls.account_expense = get_account("607000")
         cls.account_expense_nondeductible = cls.account_expense.copy(
             {
                 "name": "Cheltuieli cu marfurile nedeductibile",
                 "code": "607001",
             }
         )
@@ -112,15 +115,14 @@
             ),
             (
                 0,
                 0,
                 {
                     "factor_percent": 500,
                     "repartition_type": "tax",
-                    "account_id": cls.account_expense_vat_nondeductible.id,
                     "tag_ids": [(6, 0, [cls.tag_base_nondeductible.id])],
                     "l10n_ro_nondeductible": True,
                 },
             ),
             (
                 0,
                 0,
@@ -175,15 +177,14 @@
             ),
             (
                 0,
                 0,
                 {
                     "factor_percent": 500,
                     "repartition_type": "tax",
-                    "account_id": cls.account_expense_vat_nondeductible.id,
                     "tag_ids": [(6, 0, [cls.minus_tag_base_nondeductible.id])],
                     "l10n_ro_nondeductible": True,
                 },
             ),
             (
                 0,
                 0,
@@ -251,15 +252,14 @@
             ),
             (
                 0,
                 0,
                 {
                     "factor_percent": 500,
                     "repartition_type": "tax",
-                    "account_id": cls.account_expense_vat_nondeductible.id,
                     "tag_ids": [(6, 0, [cls.tag_base_nondeductible.id])],
                     "l10n_ro_nondeductible": True,
                     "l10n_ro_skip_cash_basis_account_switch": True,
                 },
             ),
             (
                 0,
@@ -316,15 +316,14 @@
             ),
             (
                 0,
                 0,
                 {
                     "factor_percent": 500,
                     "repartition_type": "tax",
-                    "account_id": cls.account_expense_vat_nondeductible.id,
                     "tag_ids": [(6, 0, [cls.minus_tag_base_nondeductible.id])],
                     "l10n_ro_nondeductible": True,
                     "l10n_ro_skip_cash_basis_account_switch": True,
                 },
             ),
             (
                 0,
@@ -442,14 +441,30 @@
             {
                 "name": "Warehouse Romania",
                 "code": "ROW",
                 "company_id": cls.env.company.id,
             }
         )
 
+    @classmethod
+    def setup_company_data(cls, company_name, chart_template=None, **kwargs):
+        company_data = super().setup_company_data(
+            company_name, chart_template=chart_template, **kwargs
+        )
+        acc_371 = cls.env["account.account"].search([("code", "=", "371000")], limit=1)
+        if acc_371:
+            company_data.update(
+                {
+                    "default_account_stock_valuation": acc_371,
+                    "default_account_stock_in": acc_371,
+                    "default_account_stock_out": acc_371,
+                }
+            )
+        return company_data
+
     def create_po(self, picking_type_in=None):
 
         if not picking_type_in:
             picking_type_in = self.warehouse.in_type_id
 
         po = Form(self.env["purchase.order"])
         po.partner_id = self.vendor
@@ -470,53 +485,55 @@
         self.picking._action_done()
         _logger.info("Receptie facuta")
 
         self.po = po
         return po
 
     def create_invoice_notdeductible(self, fiscal_position=False):
+        PurchaseBillUnion = self.env["purchase.bill.union"]
         invoice = Form(
             self.env["account.move"].with_context(
                 default_move_type="in_invoice", default_invoice_date=fields.Date.today()
             )
         )
         invoice.partner_id = self.vendor
-        invoice.purchase_id = self.po
+        invoice.purchase_vendor_bill_id = PurchaseBillUnion.browse(-self.po.id)
         if fiscal_position:
-            self.vendor.vat = "RO39187746"
             self.env["l10n.ro.res.partner.anaf"].create(
                 {
                     "anaf_id": "1",
-                    "vat": self.vendor.l10n_ro_vat_number,
+                    "vat": "39187746",
                     "start_date": fields.Date.today(),
                     "publish_date": fields.Date.today(),
                     "operation_date": fields.Date.today(),
                     "operation_type": "I",
                 }
             )
+            self.vendor.vat = "RO39187746"
             invoice.fiscal_position_id = fiscal_position
         with invoice.invoice_line_ids.edit(0) as invoice_line_form:
             invoice_line_form.account_id = self.account_expense
             invoice_line_form.tax_ids.clear()
             invoice_line_form.tax_ids.add(self.tax_10_nondeductible)
 
         invoice = invoice.save()
         invoice.action_post()
         self.invoice = invoice
 
         _logger.info("Factura introdusa")
 
     def create_invoice(self):
+        PurchaseBillUnion = self.env["purchase.bill.union"]
         invoice = Form(
             self.env["account.move"].with_context(
                 default_move_type="in_invoice", default_invoice_date=fields.Date.today()
             )
         )
         invoice.partner_id = self.vendor
-        invoice.purchase_id = self.po
+        invoice.purchase_vendor_bill_id = PurchaseBillUnion.browse(-self.po.id)
         invoice = invoice.save()
         invoice.action_post()
 
         _logger.info("Factura introdusa")
 
     def make_purchase(self):
         self.create_po()
```

## odoo/addons/l10n_ro_nondeductible_vat/tests/test_invoice.py

```diff
@@ -18,14 +18,15 @@
         self.check_account_valuation(50, self.account_expense)
         self.check_account_valuation(50, self.account_expense_nondeductible)
         self.check_account_valuation(5, self.account_expense_vat_nondeductible)
 
     def test_invoice_cash_basis(self):
         self.make_purchase_notdeductible(fiscal_position=self.fptvainc)
         line = self.invoice.invoice_line_ids[0]
+
         self.assertEqual(line.tax_ids, self.tax_10_nondeductible_cash_basis)
         self.check_no_move_lines(self.account_vat_deductible)
         self.check_account_valuation(50, self.account_expense)
         self.check_account_valuation(50, self.account_expense_nondeductible)
         self.check_no_move_lines(self.account_expense_vat_nondeductible)
         self.check_account_valuation(10, self.uneligible_deductible_tax_account_id)
```

## Comparing `odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/METADATA` & `odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,52 +1,52 @@
 Metadata-Version: 2.1
 Name: odoo-addon-l10n-ro-nondeductible-vat
-Version: 15.0.4.2.0
+Version: 16.0.0.2.0
 Summary: Romania - Nondeductible VAT
 Home-page: https://github.com/OCA/l10n-romania
 Author: Dakai Soft SRL,NextERP Romania,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 15.0
+Classifier: Framework :: Odoo :: 16.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
 Classifier: Development Status :: 6 - Mature
-Requires-Python: >=3.8
-Requires-Dist: odoo-addon-l10n-ro-stock-account <15.1dev,>=15.0dev
-Requires-Dist: odoo-addon-l10n-ro-vat-on-payment <15.1dev,>=15.0dev
-Requires-Dist: odoo <15.1dev,>=15.0a
+Requires-Python: >=3.10
+Requires-Dist: odoo-addon-l10n-ro-stock-account <16.1dev,>=16.0dev
+Requires-Dist: odoo-addon-l10n-ro-vat-on-payment <16.1dev,>=16.0dev
+Requires-Dist: odoo <16.1dev,>=16.0a
 
 ===========================
 Romania - Nondeductible VAT
 ===========================
 
 .. 
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
    !! changes will be overwritten.                   !!
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
-   !! source digest: sha256:63c660818ed0bffdf8f33f1f3dd3d39cb8921973ba8ba009dc6028f5a12a2f34
+   !! source digest: sha256:2ec0c0ed4db6cdbee83cc3c29bdb9e972eb82b66919e9a40bf13d9cdfac3da20
    !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 
 .. |badge1| image:: https://img.shields.io/badge/maturity-Mature-brightgreen.png
     :target: https://odoo-community.org/page/development-status
     :alt: Mature
 .. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
     :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
     :alt: License: AGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--romania-lightgray.png?logo=github
-    :target: https://github.com/OCA/l10n-romania/tree/15.0/l10n_ro_nondeductible_vat
+    :target: https://github.com/OCA/l10n-romania/tree/16.0/l10n_ro_nondeductible_vat
     :alt: OCA/l10n-romania
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/l10n-romania-15-0/l10n-romania-15-0-l10n_ro_nondeductible_vat
+    :target: https://translation.odoo-community.org/projects/l10n-romania-16-0/l10n-romania-16-0-l10n_ro_nondeductible_vat
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
-    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-romania&target_branch=15.0
+    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-romania&target_branch=16.0
     :alt: Try me on Runboat
 
 |badge1| |badge2| |badge3| |badge4| |badge5|
 
 This module allows you to register non deductible VAT from Invoices or Stock Operations.
 
 **Table of contents**
@@ -55,15 +55,15 @@
    :local:
 
 Installation
 ============
 
 To install this module, you need to:
 
-* clone the branch 15.0 of the repository https://github.com/OCA/l10n-romania
+* clone the branch 16.0 of the repository https://github.com/OCA/l10n-romania
 * add the path to this repository in your configuration (addons-path)
 * update the module list
 * search for "Romania - Nondeductible VAT" in your addons
 * install the module
 
 Usage
 =====
@@ -72,15 +72,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-romania/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us to smash it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/l10n-romania/issues/new?body=module:%20l10n_ro_nondeductible_vat%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/l10n-romania/issues/new?body=module:%20l10n_ro_nondeductible_vat%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -122,12 +122,12 @@
     :target: https://github.com/feketemihai
     :alt: feketemihai
 
 Current `maintainers <https://odoo-community.org/page/maintainer-role>`__:
 
 |maintainer-adrian-dks| |maintainer-feketemihai| 
 
-This module is part of the `OCA/l10n-romania <https://github.com/OCA/l10n-romania/tree/15.0/l10n_ro_nondeductible_vat>`_ project on GitHub.
+This module is part of the `OCA/l10n-romania <https://github.com/OCA/l10n-romania/tree/16.0/l10n_ro_nondeductible_vat>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/RECORD` & `odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,30 +1,32 @@
-odoo/addons/l10n_ro_nondeductible_vat/README.rst,sha256=UrZCHl2m759BZNztBGQ0cpDSeERyQyQ22pwrKZgFWwY,4006
+odoo/addons/l10n_ro_nondeductible_vat/README.rst,sha256=HBVf4ZtWcD9FyPzg2FGdAxyGKj5p7Gxwi_mR5O39b-Y,4006
 odoo/addons/l10n_ro_nondeductible_vat/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/l10n_ro_nondeductible_vat/__manifest__.py,sha256=XaZ7jecsiFOQo14ULx-M1ja7_dW1l4BD6xkXqZ-uUFo,820
-odoo/addons/l10n_ro_nondeductible_vat/i18n/l10n_ro_nondeductible_vat.pot,sha256=P5sG6OtEWtf2YrLuhkOfEF2UEAi_JuPmOb53AXTBGqA,4713
-odoo/addons/l10n_ro_nondeductible_vat/models/__init__.py,sha256=RR_G3aq8sFxXv5fiazg7EF-ALolCBZtdUYEW0syJNTY,174
+odoo/addons/l10n_ro_nondeductible_vat/__manifest__.py,sha256=BO9MQZKSLlCc8O6DwPw2uAQWTVfhqiL5QhUQFra-xUg,820
+odoo/addons/l10n_ro_nondeductible_vat/i18n/l10n_ro_nondeductible_vat.pot,sha256=iC__ZjoeOJip58hgkwnkB8XLPJnCKTg-J1fjtRtv6C8,4348
+odoo/addons/l10n_ro_nondeductible_vat/models/__init__.py,sha256=H3egEAOfxsWsex0GcCzUw_1NzSSoVb9FO7feNBJXVQw,222
 odoo/addons/l10n_ro_nondeductible_vat/models/account_account.py,sha256=FR72dkNG0WZ5N4-0OUIgH0NqeFLsrfIKsYLZxVXHPww,428
-odoo/addons/l10n_ro_nondeductible_vat/models/account_move.py,sha256=zJX9zwIjIPDk9nGrz-18eCQl96Uw9m8l0biLrfjdhOE,5147
-odoo/addons/l10n_ro_nondeductible_vat/models/account_partial_reconcile.py,sha256=EZ7CBEaEjsZxbganboIRlHyZWYNBSnNCWgkfRNR3J_Y,1392
-odoo/addons/l10n_ro_nondeductible_vat/models/account_tax.py,sha256=yi5zU5-4DQ9l64EnhIyuSrs5VidGN0v_TaZ-meabT1Y,1804
-odoo/addons/l10n_ro_nondeductible_vat/models/stock_move.py,sha256=TiruEAqY8qTXQV7esEM3bv_gk8DA4p1qK1EM-0ounPE,2103
-odoo/addons/l10n_ro_nondeductible_vat/models/stock_quant.py,sha256=IHrOpG5xwoN-YkAdGSmTarTiY78Ic2fx81NidpNLj98,1316
+odoo/addons/l10n_ro_nondeductible_vat/models/account_move.py,sha256=xWaTy6k7lMIQtzGxPyCvRbytMZit7A4uxTuG3nKfES8,655
+odoo/addons/l10n_ro_nondeductible_vat/models/account_move_line.py,sha256=8bOjxAGmvlexv-3zGs0_1BXx1bv1sGuB-xMAhd7DTRg,2124
+odoo/addons/l10n_ro_nondeductible_vat/models/account_partial_reconcile.py,sha256=amraerQPehV-1qmpa7WL5yjyS50b2ibXgrK2wRaDw7A,1357
+odoo/addons/l10n_ro_nondeductible_vat/models/account_tax.py,sha256=d2OMloZk4H3hBLif1XLZ2kD24-Pnh3p-AzCV_xm8kNs,1129
+odoo/addons/l10n_ro_nondeductible_vat/models/account_tax_repartition_line.py,sha256=jWefI2k9UDvbilQ0WMhetmhkBO-WCKeYBnnDkU7baGc,1533
+odoo/addons/l10n_ro_nondeductible_vat/models/stock_move.py,sha256=KPoHBObsC3HuAqDdDx2dh_AS8WdGFuDCiKo9oMlaP1Q,2139
+odoo/addons/l10n_ro_nondeductible_vat/models/stock_quant.py,sha256=YK7cz2xs8ipRAOyFgWQZ_xeG3n35tEdzmRX7-_3usmo,1596
 odoo/addons/l10n_ro_nondeductible_vat/readme/CONTRIBUTORS.rst,sha256=NgyMBlAKlGdQ9neGqe6QLGixLXx0adFW0U9gFrgtKjY,262
 odoo/addons/l10n_ro_nondeductible_vat/readme/DESCRIPTION.rst,sha256=G3frCBUsGJiKFy66BpX_EH_Me72-jQqOwPZ2b3Zogs0,89
-odoo/addons/l10n_ro_nondeductible_vat/readme/INSTALL.rst,sha256=VxqJzQyG9AXQdokfRw0fUTTYSrFNOeUzW9Yf6DNa6OQ,290
+odoo/addons/l10n_ro_nondeductible_vat/readme/INSTALL.rst,sha256=D_HjVSsMiER-TCO62QOBhH5GyWznl9Vvh-PctmMyj2o,290
 odoo/addons/l10n_ro_nondeductible_vat/readme/USAGE.rst,sha256=WkW82V9-P_BGPTUF8KkDoOmPnRvZkPF2evA545Km21U,85
 odoo/addons/l10n_ro_nondeductible_vat/static/description/icon.png,sha256=MND3TYqrnM623pd0tf3WhoHU-3X5Ns6ho-Yz_HcYlTk,566
-odoo/addons/l10n_ro_nondeductible_vat/static/description/index.html,sha256=dQBIAFdYEC3XeBAwG4hHV9O3p4xxytFkUjmUjbe7zlE,13977
+odoo/addons/l10n_ro_nondeductible_vat/static/description/index.html,sha256=RYuohx_aoSuYpIPON-W8P1jR-PBBbg0iu0l-WIi-g2w,13977
 odoo/addons/l10n_ro_nondeductible_vat/tests/__init__.py,sha256=qT5nbb60e4gtaHl9i6X_PMYw_UdqA5-bSC48aARu8kA,104
-odoo/addons/l10n_ro_nondeductible_vat/tests/common.py,sha256=mbg23XlMkoP7Thphbsf49YVIA6zBtfbfVoUQpQPnxZ4,20482
+odoo/addons/l10n_ro_nondeductible_vat/tests/common.py,sha256=0bCyQt8FhDj6n72w0GE6X_X1_NJd3KqmtfhnPDvLwRc,21114
 odoo/addons/l10n_ro_nondeductible_vat/tests/test_consum.py,sha256=2e3oy87dy8NfKO2nLsPZKReBKRRvz5W_FQLtF6IrBC4,1057
 odoo/addons/l10n_ro_nondeductible_vat/tests/test_inventory.py,sha256=xYcdLe0wzNKxu6aw8CzWKzILAE7int8hjK9jmDe84g4,1076
-odoo/addons/l10n_ro_nondeductible_vat/tests/test_invoice.py,sha256=zdQjXg3Bp7MPCQcJ-fUVNvWsos4KQP_-yn_MWjT6jwk,1958
+odoo/addons/l10n_ro_nondeductible_vat/tests/test_invoice.py,sha256=LdXVtRUwj1DfbuLra6D_KWWmoD10l-zm9DxBw1a3X1g,1959
 odoo/addons/l10n_ro_nondeductible_vat/views/account_account_view.xml,sha256=BcnwViP5vXoFlcktWamObCHw0Br6Wc_ewQ6psAM_8kY,676
 odoo/addons/l10n_ro_nondeductible_vat/views/account_tax_view.xml,sha256=Rhzi9BlkpXWIOUj2MaQcr2qe-ZjthClmZZFCV1_Tv-Q,2250
 odoo/addons/l10n_ro_nondeductible_vat/views/stock_picking_view.xml,sha256=9bm3ePwNZHnAF52YI_L_5dlnpQFK4AFBq_4QLAFNWYk,1050
 odoo/addons/l10n_ro_nondeductible_vat/views/stock_quant_view.xml,sha256=DUw-V2mlgND_oPRVICqer9nXQPRBjFvnJv483SsJwYg,818
-odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/METADATA,sha256=YZM2zkviSnwG3V6jseKQwEo7gUGs9OxvQJm0NwtiE6U,4752
-odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
-odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_l10n_ro_nondeductible_vat-15.0.4.2.0.dist-info/RECORD,,
+odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/METADATA,sha256=xajDq8pFazdZI8hTAQfJxGA2DX1cDTcD9OS9iDAGAFM,4753
+odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_l10n_ro_nondeductible_vat-16.0.0.2.0.dist-info/RECORD,,
```

